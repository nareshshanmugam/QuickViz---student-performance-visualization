{% extends 'base.html' %}

{% block content %}
<h1 class="text-center">Upload CSV Files</h1>
<div class="alert alert-info" role="alert">
    Please upload one or more CSV files. Each file must include the following columns:
    <ul>
        <li><b>Name</b>: The name of the participant</li>
        <li><b>Total Score</b>: The total score achieved</li>
    </ul>
</div>

<form method="POST" enctype="multipart/form-data" class="mt-4" id="uploadForm">
    <div class="mb-3">
        <label for="files" class="form-label">Select Files:</label>
        <input type="file" name="files" id="files" multiple class="form-control" required>
    </div>
    <button type="submit" class="btn btn-primary w-100">Upload Files</button>
</form>

<div id="loadingSpinner" class="text-center mt-4 d-none">
    <div class="spinner-border text-primary" role="status"></div>
    <p>Uploading... Please wait.</p>
</div>

<script>
    const form = document.getElementById('uploadForm');
    const spinner = document.getElementById('loadingSpinner');

    form.addEventListener('submit', () => {
        spinner.classList.remove('d-none');
    });
</script>
{% endblock %}
